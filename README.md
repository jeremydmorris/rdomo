# RDomo
This package provides access to Domo's public APIs for the purpose of transferring data directly to R and helps perform other admin tasks.

## Installation
To install, please install the devtools package and type the following command.

```r
devtools::install_github(repo='jeremydmorris/rdomo')
```

## Setup and Authentication

In order to connect R to Domo, you will need to have a valid set of credentials. Credentials can be generated by going to Domo's [developer site](https://developer.domo.com) and do the following.
* Click the "login" button in the top ribbon (just left of the search box).
	* This will take you to a Domo login screen and will require your username and password.
	* If you are currently logged in, you will not be required to give your username and password.
* Once you have signed in, click "My Account" and "New Client".
* Give your client a name and a description (description optional).
* Click any of the resources you want this set of credentials to be able to access.
* Click "Create".

After clicking Create, the developer site will display your client id and secret.

Your client id and secret are then used to authenticate from R. To create a new connection to Domo, use the following code.

```r
domo <- rdomo::Domo(client_id='your client id',secret='your secret',scope=c('data','user'))
```

This code creates an object called "domo" that stores all your connection information and all functions necessary to interact with Domo's API. For example, if you would like to download a data set from Domo, you can now use the following code. (The data set id can be found in the URL for a data set in Domo's data center or you can use the "ds_list" function to get a list of all your data sets.)

```r
my_dataset <- domo$ds_get('some data set id')
```

In order to simplify writing code against the API, you can put your credentials into your global environment. This has the benefit of eliminating the need to type your credentials everytime you need to connect AND it keeps your credentials out of every one of the scripts you will write. To do this, put the following in your .Renviron file in your home folder.

```r
RDOMO_CLIENT_ID="your client id"
RDOMO_SECRET="your secret"
```

When this is done, you can now connect without needing to specify those values. You will still need to specify which scopes you will be using (rdomo does not auto-detect the scopes assigned to your credentials).

```r
domo <- rdomo::Domo(scope=c('data','user'))
```

